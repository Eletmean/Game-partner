{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getGames}from'../services/api';import'./Games.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Games=()=>{const[games,setGames]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{loadGames();},[]);const loadGames=async()=>{try{setLoading(true);const gamesData=await getGames();setGames(gamesData);}catch(error){console.error('Ошибка загрузки игр:',error);}finally{setLoading(false);}};// Фильтрация игр по поиску\nconst filteredGames=games.filter(game=>game.name.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"games-page\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"games-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"games-header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"games-title\",children:\"\\u0418\\u0433\\u0440\\u044B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"games-subtitle\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0433\\u0440\\u0443, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0430\\u0439\\u0442\\u0438 \\u043F\\u0430\\u0440\\u0442\\u043D\\u0435\\u0440\\u043E\\u0432 \\u0434\\u043B\\u044F \\u0441\\u043E\\u0432\\u043C\\u0435\\u0441\\u0442\\u043D\\u043E\\u0439 \\u0438\\u0433\\u0440\\u044B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"games-search\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0438\\u0433\\u0440...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"games-search-input\"})})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"games-section\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0438\\u0433\\u0440...\"})]}):filteredGames.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0418\\u0433\\u0440\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0438\\u0441\\u043A\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"games-stats\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0438\\u0433\\u0440: \",filteredGames.length]})}),/*#__PURE__*/_jsx(\"div\",{className:\"games-grid grid grid-4\",children:filteredGames.map(game=>/*#__PURE__*/_jsx(GameCard,{game:game},game.game_id))})]})})]});};// Компонент карточки игры\nconst GameCard=_ref=>{let{game}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"game-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-image-container\",children:game.icon_url?/*#__PURE__*/_jsx(\"img\",{src:game.icon_url,alt:game.name,className:\"game-image\",onError:e=>{e.target.src='https://via.placeholder.com/300x200/6c63ff/ffffff?text=Игра';}}):/*#__PURE__*/_jsx(\"div\",{className:\"game-image-placeholder\",children:/*#__PURE__*/_jsx(\"span\",{children:game.name.charAt(0)})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"game-name\",children:game.name}),game.description&&/*#__PURE__*/_jsx(\"p\",{className:\"game-description\",children:game.description.length>100?\"\".concat(game.description.substring(0,100),\"...\"):game.description}),/*#__PURE__*/_jsx(\"div\",{className:\"game-actions\",children:/*#__PURE__*/_jsx(Link,{to:\"/profiles?game=\".concat(game.game_id),className:\"btn btn-primary game-action-btn\",children:\"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u0438\\u0433\\u0440\\u043E\\u043A\\u043E\\u0432\"})})]})]});};export default Games;","map":{"version":3,"names":["React","useState","useEffect","Link","getGames","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Games","games","setGames","loading","setLoading","searchTerm","setSearchTerm","loadGames","gamesData","error","console","filteredGames","filter","game","name","toLowerCase","includes","className","children","type","placeholder","value","onChange","e","target","length","map","GameCard","game_id","_ref","icon_url","src","alt","onError","charAt","description","concat","substring","to"],"sources":["/home/elina/game_project/game-platform-frontend/src/pages/Games.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getGames } from '../services/api';\nimport './Games.css';\n\nconst Games = () => {\n  const [games, setGames] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    loadGames();\n  }, []);\n\n  const loadGames = async () => {\n    try {\n      setLoading(true);\n      const gamesData = await getGames();\n      setGames(gamesData);\n    } catch (error) {\n      console.error('Ошибка загрузки игр:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Фильтрация игр по поиску\n  const filteredGames = games.filter(game =>\n    game.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"games-page\">\n      {/* Заголовок и поиск */}\n      <section className=\"games-header\">\n        <div className=\"games-header-content\">\n          <h1 className=\"games-title\">Игры</h1>\n          <p className=\"games-subtitle\">\n            Выберите игру, чтобы найти партнеров для совместной игры\n          </p>\n          \n          <div className=\"games-search\">\n            <input\n              type=\"text\"\n              placeholder=\"Поиск игр...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"games-search-input\"\n            />\n          </div>\n        </div>\n      </section>\n\n      {/* Сетка игр */}\n      <section className=\"games-section\">\n        {loading ? (\n          <div className=\"loading\">\n            <div className=\"loading-spinner\"></div>\n            <p>Загрузка игр...</p>\n          </div>\n        ) : filteredGames.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>Игры не найдены</h3>\n            <p>Попробуйте изменить поисковый запрос</p>\n          </div>\n        ) : (\n          <>\n            <div className=\"games-stats\">\n              <span>Найдено игр: {filteredGames.length}</span>\n            </div>\n            \n            <div className=\"games-grid grid grid-4\">\n              {filteredGames.map(game => (\n                <GameCard key={game.game_id} game={game} />\n              ))}\n            </div>\n          </>\n        )}\n      </section>\n    </div>\n  );\n};\n\n// Компонент карточки игры\nconst GameCard = ({ game }) => {\n  return (\n    <div className=\"game-card\">\n      <div className=\"game-image-container\">\n        {game.icon_url ? (\n          <img \n            src={game.icon_url} \n            alt={game.name}\n            className=\"game-image\"\n            onError={(e) => {\n              e.target.src = 'https://via.placeholder.com/300x200/6c63ff/ffffff?text=Игра';\n            }}\n          />\n        ) : (\n          <div className=\"game-image-placeholder\">\n            <span>{game.name.charAt(0)}</span>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"game-content\">\n        <h3 className=\"game-name\">{game.name}</h3>\n        \n        {game.description && (\n          <p className=\"game-description\">\n            {game.description.length > 100 \n              ? `${game.description.substring(0, 100)}...` \n              : game.description\n            }\n          </p>\n        )}\n        \n        <div className=\"game-actions\">\n          <Link \n            to={`/profiles?game=${game.game_id}`} \n            className=\"btn btn-primary game-action-btn\"\n          >\n            Найти игроков\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Games;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACdgB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,SAAS,CAAG,KAAM,CAAAf,QAAQ,CAAC,CAAC,CAClCS,QAAQ,CAACM,SAAS,CAAC,CACrB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAO,aAAa,CAAGV,KAAK,CAACW,MAAM,CAACC,IAAI,EACrCA,IAAI,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACX,UAAU,CAACU,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,mBACElB,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBvB,IAAA,YAASsB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC/BrB,KAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvB,IAAA,OAAIsB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,0BAAI,CAAI,CAAC,cACrCvB,IAAA,MAAGsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,0SAE9B,CAAG,CAAC,cAEJvB,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BvB,IAAA,UACEwB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,sDAAc,CAC1BC,KAAK,CAAEhB,UAAW,CAClBiB,QAAQ,CAAGC,CAAC,EAAKjB,aAAa,CAACiB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CJ,SAAS,CAAC,oBAAoB,CAC/B,CAAC,CACC,CAAC,EACH,CAAC,CACC,CAAC,cAGVtB,IAAA,YAASsB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC/Bf,OAAO,cACNN,KAAA,QAAKoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBvB,IAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAM,CAAC,cACvCtB,IAAA,MAAAuB,QAAA,CAAG,wEAAe,CAAG,CAAC,EACnB,CAAC,CACJP,aAAa,CAACc,MAAM,GAAK,CAAC,cAC5B5B,KAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BvB,IAAA,OAAAuB,QAAA,CAAI,kFAAe,CAAI,CAAC,cACxBvB,IAAA,MAAAuB,QAAA,CAAG,2MAAoC,CAAG,CAAC,EACxC,CAAC,cAENrB,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,QAAKsB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BrB,KAAA,SAAAqB,QAAA,EAAM,iEAAa,CAACP,aAAa,CAACc,MAAM,EAAO,CAAC,CAC7C,CAAC,cAEN9B,IAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCP,aAAa,CAACe,GAAG,CAACb,IAAI,eACrBlB,IAAA,CAACgC,QAAQ,EAAoBd,IAAI,CAAEA,IAAK,EAAzBA,IAAI,CAACe,OAAsB,CAC3C,CAAC,CACC,CAAC,EACN,CACH,CACM,CAAC,EACP,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAD,QAAQ,CAAGE,IAAA,EAAc,IAAb,CAAEhB,IAAK,CAAC,CAAAgB,IAAA,CACxB,mBACEhC,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvB,IAAA,QAAKsB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClCL,IAAI,CAACiB,QAAQ,cACZnC,IAAA,QACEoC,GAAG,CAAElB,IAAI,CAACiB,QAAS,CACnBE,GAAG,CAAEnB,IAAI,CAACC,IAAK,CACfG,SAAS,CAAC,YAAY,CACtBgB,OAAO,CAAGV,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACO,GAAG,CAAG,6DAA6D,CAC9E,CAAE,CACH,CAAC,cAEFpC,IAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCvB,IAAA,SAAAuB,QAAA,CAAOL,IAAI,CAACC,IAAI,CAACoB,MAAM,CAAC,CAAC,CAAC,CAAO,CAAC,CAC/B,CACN,CACE,CAAC,cAENrC,KAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BvB,IAAA,OAAIsB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEL,IAAI,CAACC,IAAI,CAAK,CAAC,CAEzCD,IAAI,CAACsB,WAAW,eACfxC,IAAA,MAAGsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC5BL,IAAI,CAACsB,WAAW,CAACV,MAAM,CAAG,GAAG,IAAAW,MAAA,CACvBvB,IAAI,CAACsB,WAAW,CAACE,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,QACrCxB,IAAI,CAACsB,WAAW,CAEnB,CACJ,cAEDxC,IAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BvB,IAAA,CAACH,IAAI,EACH8C,EAAE,mBAAAF,MAAA,CAAoBvB,IAAI,CAACe,OAAO,CAAG,CACrCX,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC5C,2EAED,CAAM,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}